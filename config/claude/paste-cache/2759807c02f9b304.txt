[AI Schedule] Starting for user: 1
[AI Schedule] DB client created
[AI Schedule] Date range: 2026-01-25 to 2026-02-08
âœ˜ [ERROR] [AI Schedule] Error: DrizzleQueryError: Failed query: select "id", "user_id", "list_id", "title", "description", "completed", "due_date", "priority", "duration", "is_recurring", "recurring_days", "created_at", "updated_at", "deleted_at" from "tasks" where ("tasks"."user_id" = ? and "tasks"."is_recurring" = ? and "tasks"."completed" = ? and "tasks"."deleted_at" is null) order by "tasks"."created_at" asc

  params: 1,0,0
      at D1PreparedQuery.queryWithCache
  (file:///home/jofre/projects/chronos/node_modules/.bun/drizzle-orm@0.45.0+04c11aec5f8488fc/node_modules/src/sqlite-core/session.ts:80:11)
      at async D1PreparedQuery.values
  (file:///home/jofre/projects/chronos/node_modules/.bun/drizzle-orm@0.45.0+04c11aec5f8488fc/node_modules/src/d1/session.ts:280:10)
      ... 5 lines matching cause stack trace ...
      at async dispatch
  (file:///home/jofre/projects/chronos/node_modules/.bun/hono@4.10.6/node_modules/hono/dist/compose.js:22:17)
      at async cors2
  (file:///home/jofre/projects/chronos/node_modules/.bun/hono@4.10.6/node_modules/hono/dist/middleware/cors/index.js:79:5)
      at async dispatch
  (file:///home/jofre/projects/chronos/node_modules/.bun/hono@4.10.6/node_modules/hono/dist/compose.js:22:17)
  {
    query: 'select "id", "user_id", "list_id", "title", "description", "completed", "due_date",
  "priority", "duration", "is_recurring", "recurring_days", "created_at", "updated_at", "deleted_at"
  from "tasks" where ("tasks"."user_id" = ? and "tasks"."is_recurring" = ? and "tasks"."completed" =
  ? and "tasks"."deleted_at" is null) order by "tasks"."created_at" asc',
    params: [ '1', 0, 0 ],
    cause: Error: D1_ERROR: no such column: tasks.deleted_at at offset 288: SQLITE_ERROR
        at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:139:19)
        at null.<anonymous> (async cloudflare-internal:d1-api:374:36)
        ... 7 lines matching cause stack trace ...
        at async dispatch
  (file:///home/jofre/projects/chronos/node_modules/.bun/hono@4.10.6/node_modules/hono/dist/compose.js:22:17)
  {
      [cause]: Error: no such column: tasks.deleted_at at offset 288: SQLITE_ERROR
          at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:140:24)
          at null.<anonymous> (async cloudflare-internal:d1-api:374:36)
          at async D1PreparedQuery.queryWithCache
  (file:///home/jofre/projects/chronos/node_modules/.bun/drizzle-orm@0.45.0+04c11aec5f8488fc/node_modules/src/sqlite-core/session.ts:78:12)
          at async D1PreparedQuery.values
  (file:///home/jofre/projects/chronos/node_modules/.bun/drizzle-orm@0.45.0+04c11aec5f8488fc/node_modules/src/d1/session.ts:280:10)
          at async D1PreparedQuery.all
  (file:///home/jofre/projects/chronos/node_modules/.bun/drizzle-orm@0.45.0+04c11aec5f8488fc/node_modules/src/d1/session.ts:217:16)
          at async getSchedulableTasks
  (file:///home/jofre/projects/chronos/apps/backend/src/db/queries/tasks.ts:328:18)
          at null.<anonymous> (async
  file:///home/jofre/projects/chronos/apps/backend/.wrangler/tmp/dev-oTd23U/index.js:8894:30)
          at async dispatch
  (file:///home/jofre/projects/chronos/node_modules/.bun/hono@4.10.6/node_modules/hono/dist/compose.js:22:17)
          at async authMiddleware
  (file:///home/jofre/projects/chronos/apps/backend/src/middleware/auth.ts:23:3)
          at async dispatch
  (file:///home/jofre/projects/chronos/node_modules/.bun/hono@4.10.6/node_modules/hono/dist/compose.js:22:17)
    }
  }

